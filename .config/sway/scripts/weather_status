#!/bin/sh

# Custom ?format=%[x] options
#   c    Weather condition,
#   C    Weather condition textual name,
#   h    Humidity,
#   t    Temperature,
#   w    Wind,
#   l    Location,
#   m    Moonphase ðŸŒ‘ðŸŒ’ðŸŒ“ðŸŒ”ðŸŒ•ðŸŒ–ðŸŒ—ðŸŒ˜,
#   M    Moonday,
#   p    precipitation (mm),
#   o    Probability of Precipitation,
#   P    pressure (hPa),
#
# $ curl -s 'wttr.in/{Nuremberg,Hamburg,Berlin}?format=3'
#Nuremberg: ðŸŒ¦ +11â°C
#Hamburg: ðŸŒ¦ +8â°C
#Berlin: ðŸŒ¦ +8â°C



while true; 
do 
	data="$(curl -sm 1 --fail 'wttr.in/Siegsdorf?format=%c+%C+%t+%o+%p')"
	if [ "$data" = "" ]
	then true
	else echo "$data" > $HOME/.cache/weather_status
	fi
	sleep 280
done
